extends Node3D

@onready var creator = Options.creator
@onready var id = creator.nodes.size()
var data
@onready var trackid = creator.trackid

@export var DataName = "Bomb"
@export var notes = ""

@export var Param0: float = -1
@export var Param1: float = -1
@export var Param10: float = -1
@export var Param11: float = -1
@export var Param2: float = -1
@export var Param3: float = -1
@export var Param4: float = -1
@export var Param5: float = -1
@export var Param6: float = -1
@export var Param7: float = -1
@export var Param8: float = -1
@export var Param9: float = -1


func _physics_process(delta):
	id = creator.nodes.find(self)
	if visible == false:
		if Input.is_action_just_pressed("add"):
			queue_free()

func EXPORT():
	data = [
"          - comment: !l -1",
"            dir_x: 0.00000",
"            dir_y: 0.00000",
"            dir_z: 0.00000",
"            id_name: obj" + str(trackid),
"            layer: LC",
"            link_info: []",
"            link_num: !l 0",
"            name: Fzr_"+DataName,
"            param0: -1.00000",
"            param1: -1.00000",
"            param10: -1.00000",
"            param11: -1.00000",
"            param2: -1.00000",
"            param3: -1.00000",
"            param4: -1.00000",
"            param5: -1.00000",
"            param6: -1.00000",
"            param7: -1.00000",
"            param8: -1.00000",
"            param9: -1.00000",
"            pos_x: "+str(global_position.x),
"            pos_y: "+str(global_position.y),
"            pos_z: "+str(global_position.z),
"            scale_x: 1.00000",
"            scale_y: 1.00000",
"            scale_z: 1.00000"]
	creator.track += data


func _on_area_3d_area_entered(area):
	hide()


func _on_area_3d_area_exited(area):
	show()

#Fzr_DenchuSTL is the poles
